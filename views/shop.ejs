
<%- include('./partials/header') %>

  <% if(success.length>0){ %>
       <div class="absolute top-5 left-1/2 -translate-x-1/2 -translate-y-1/2 p-3 rounded-md bg-blue-500">
           <span class="inline-block mt-1 mb-1 text-white">
               <%= success %>
           </span>
       </div>
     <% } %>

     <script src="https://cdn.tailwindcss.com"></script>
     <style>
        #loader {
            position: fixed;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            z-index: 9999;
        }
        #content {
            display: none;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .loader {
            border-top-color: #3498db;
            animation: spin 1s linear infinite;
        }
    </style>

<body>
    <div id="loader">
        <div class="w-screen flex items-center justify-center h-screen bg-black">
            <div class="text-center  w-full h-full flex items-center justify-center   ">
                <div class=" ">
                    <h3 class="text-6xl text-yellow-600 font-bold ">/Shop</h3>
                    
                </div> 
                <div class="loader ease-linear border-4 border-t-4 border-gray-200 h-[1vw] w-[1vw] ml-4 "></div>
            </div>
        </div>
    </div>

    <div id="content">

        <div class="w-full flex items-start px-20  bg-[#ffffff]">
            <div class="w-[25%] text-black flex  flex-col items-start  border-[1px] border-zinc-200 mr-24 -ml-8 p-4">
               <div class="flex items-center gap-2 mt-2">
                   <h3>sort by</h3>
                   <form action="/shop">
                       <select class="border-[1px] px-2 py-1" name="sortby" id="">
                           <option value="popular">Popular</option>
                           <option value="newest">Newest</option>
                       </select>
                   </form>
               </div>
               <div class="flex flex-col mt-16  text-[1.5vw] underline">
                   <a class="block w-fit mb-2" href="">New Collection</a>
                   <a class="block w-fit mb-2" href="">All Products</a>
                   <a class="block w-fit mb-2" href="">Discounted Products</a>
               </div>
               <div class="mt-40  text-[1.5vw] underline">
                   <a class="block w-fit mb-2" href="">Filter by :</a>
                   <a class="block w-fit mb-2" href="">Availability</a>
                   <a class="block w-fit mb-2" href="">Discount</a>
               </div>
           </div>
           <div class="w-[75%] flex flex-col gap-5 h-screen bg-white  ">
               <div class="flex items-start gap-5   ">
                   <% products.forEach(function(product){ %>
                       <div class="w-70 border-[1px] border-zinc-200 bg-yellow-300 ">
                           <div class="w-full h-52 ">
                               <img class="w-full h-full object-cover" src="data:image/jpeg; base64, <%= product.image.toString('base64') %>" alt="">
                           </div>
                           <div class="flex justify-between bg-[<%= product.panelcolor  %>] text-[<%= product.textcolor  %>] items-center px-4 py-4">
                               <div>
                                   <h3 class="text-[1.2vw]"><%= product.name %></h3>
                                   <h4 class="text-[1.2vw] mt-4">â‚¹ <%= product.price %></h4>
                               </div>
                               <a class="w-7 h-7 ml-[4vw] mb-12 flex items-center justify-center rounded-full bg-white" href="/addtocart/<%= product._id %>">
                                   <i class="ri-add-line"></i>
                               </a>
                           </div>
                       </div> 
                   <% }) %>
   
                  
               </div>
               <div class="flex items-start gap-5">
                   
               </div>
           </div>
       </div>

    </div>

    <script>
        window.addEventListener('load', function() {
            const loader = document.getElementById('loader');
            const content = document.getElementById('content');
            setTimeout(() => {
                loader.style.display = 'none';
                content.style.display = 'block';
            }, 1000); 
        });
    </script>
</body>
  

      
    <%- include('./partials/footer') %>
